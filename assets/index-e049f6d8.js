import{d as U,u as k,a as C,r as p,b as I,c as B,e as r,f as F,g as e,w as t,o as $,h as m,i as b,l as H,j as P,E as f,p as R,k as T,m as g,_ as j}from"./index-f4238ceb.js";import{g as q}from"./time-716eaf9e.js";const v=l=>(R("data-v-4954825a"),l=l(),T(),l),z={class:"login_container"},L=v(()=>g("h1",null,"Hello",-1)),A=v(()=>g("h2",null,"欢迎来到汇源运营平台",-1)),D=U({__name:"index",setup(l){const w=k(),x=C(),i=p(!1),c=p(),h=I(),a=B({username:"admin",password:"111111"}),y=async()=>{await c.value.validate(),i.value=!0;try{await w.userLogin(a);const n=h.query.redirect;x.push({path:n||"/"}),f({type:"success",message:"欢迎回来",title:`Hi, ${q()} !`}),i.value=!1}catch(n){i.value=!1,f({type:"error",message:n.message})}},V={username:[{trigger:"change",validator:(n,o,s)=>{o.length>=5?s():s(new Error("账号长度至少五位"))}}],password:[{trigger:"change",validator:(n,o,s)=>{o.length>=6?s():s(new Error("密码长度至少六位"))}}]};return(n,o)=>{const s=r("el-col"),_=r("el-input"),d=r("el-form-item"),N=r("el-button"),E=r("el-form"),S=r("el-row");return $(),F("div",z,[e(S,null,{default:t(()=>[e(s,{span:12,xs:0}),e(s,{span:12,xs:24},{default:t(()=>[e(E,{class:"login_form",model:a,rules:V,ref_key:"loginForms",ref:c},{default:t(()=>[L,A,e(d,{prop:"username"},{default:t(()=>[e(_,{"prefix-icon":m(b),modelValue:a.username,"onUpdate:modelValue":o[0]||(o[0]=u=>a.username=u)},null,8,["prefix-icon","modelValue"])]),_:1}),e(d,{prop:"password"},{default:t(()=>[e(_,{type:"password","prefix-icon":m(H),modelValue:a.password,"onUpdate:modelValue":o[1]||(o[1]=u=>a.password=u),"show-password":""},null,8,["prefix-icon","modelValue"])]),_:1}),e(d,null,{default:t(()=>[e(N,{loading:i.value,type:"primary",size:"default",class:"login_btn",onClick:y},{default:t(()=>[P("登录")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})])}}});const O=j(D,[["__scopeId","data-v-4954825a"]]);export{O as default};
